#include<stdio.h>
#include<conio.h>
void main()
{
	int t_sl,p_id[10],need[10],wt[10],t_at[10],i,j,n,n1;
	int bt[10],flag[10],t_tat=0,t_wt=0;
	float a_wt,a_tat;
	printf("\n\t\t\t\t*****ROUND ROBIN SCHEDULING*********");
	printf("\n\n\n Enter the no. of processes: ");
	scanf("%d",&n);
	n1=n;
	printf("\n Enter the time slice: ");
	scanf("%d",&t_sl);
	for(i=1;i<=n;i++)
	{
		printf("\n\n Enter process ID for %d: ",i);
		scanf("%d",&p_id[i]);
		printf("\n Enter the Burst Time for the process: ");
		scanf("%d",&bt[i]);
		need[i]=bt[i];
	}
	for(i=1;i<=n;i++)
	{
		flag[i]=1;
		wt[i]=0;
 	}
while(n!=0)
{
	for(i=1;i<=n;i++)
	{
		if(need[i]>=t_sl)
		{
			for(j=1;j<=n;j++)
			{
				if((i!=j)&&(flag[i]==1)&&(need[j]!=0))
				wt[j]+=t_sl;
    		}
			need[i]-=t_sl;
      		if(need[i]==0)
			{
				flag[i]=0;
				n--;
			}
		}
    	else
		{
			for(j=1;j<=n;j++)
			{
				if((i!=j)&&(flag[i]==1)&&(need[j]!=0))
				wt[j]+=need[i];
			}
			need[i]=0;
			n--;
			flag[i]=0; 
		}
	}
}
for(i=1;i<=n1;i++)
{
	t_at[i]=wt[i]+bt[i];
	t_wt=t_wt+wt[i]; 
	t_tat=t_tat+t_at[i];
}
	a_wt=(float)t_wt/n1;
	a_tat=(float)t_tat/n1;
printf("\n\n \t\tProcess Chart");
printf("\n\n Process \t Process ID  \t BurstTime \t Waiting Time \t Turnaround Time \n ");
for(i=1;i<=n1;i++)
{
	printf("\n %3d \t\t %3d \t\t %3d \t\t %3d \t\t %3d \n",i,p_id[i],bt[i],wt[i],t_at[i]);
}
printf("\n The average Waiting time: %1.2f",a_wt);
printf("\n The average Turn around time: %1.2f",a_tat);
getch();
}
